{"ast":null,"code":"import _toConsumableArray from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/src/components/Auction.js\";\nimport React, { Component } from 'react';\nimport './Auction.css';\nimport web3 from '../utilities/web3Provider.js';\nimport { abi, address } from '../contracts/avatarBazaarAbi.js';\nimport { Button } from 'react-bootstrap';\n\nvar Auction =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Auction, _Component);\n\n  function Auction(props) {\n    var _this;\n\n    _classCallCheck(this, Auction);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Auction).call(this, props));\n    _this.state = {\n      loading: false,\n      characters: []\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.createCharacters = _this.createCharacters.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(Auction, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        charName: event.target.value\n      });\n    }\n  }, {\n    key: \"createCharacters\",\n    value: function createCharacters() {\n      var CharacterContract = new web3.eth.Contract(abi, address, {\n        from: this.props.userAccount\n      });\n      CharacterContract.methods.createCharacter(this.state.charName).send(\"{from:this.state.userAccount}\").then(function (result) {});\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var ForSaleContract = new web3.eth.Contract(abi, address, {\n        from: this.props.userAccount\n      });\n      var self = this;\n      ForSaleContract.methods.auctions(0).call().then(function (result) {\n        var characterIdArray = result;\n        console.log('charactArray');\n        console.log(characterIdArray);\n        var i = 0;\n        ForSaleContract.methods.viewCharacterDataStepOne(characterIdArray[i]).call().then(function (result) {\n          ForSaleContract.methods.viewCharacterDataStepTwo(characterIdArray[i]).call().then(function (resultTwo) {\n            self.setState(function (prevState) {\n              return {\n                characters: _toConsumableArray(prevState.characters).concat([{\n                  tokenId: characterIdArray[i],\n                  name: result[0],\n                  weapon: result[1],\n                  armor: result[2],\n                  image: result[3],\n                  ratCount: resultTwo[0],\n                  skeletonCount: resultTwo[1],\n                  totalKills: resultTwo[2],\n                  totalDmg: resultTwo[3],\n                  totalRevives: resultTwo[4]\n                }])\n              };\n            });\n            return resultTwo;\n          });\n        });\n        return result;\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          marginLeft: '100px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          paddingLeft: '100px',\n          color: 'white',\n          fontFamily: \"'Amaranth', sans-serif\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Create Character\"), React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.charName,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }), React.createElement(Button, {\n        id: \"createCharacter\",\n        bsStyle: \"primary\",\n        onClick: this.createCharacters,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Create Character\"), React.createElement(\"h1\", {\n        style: {\n          paddingLeft: '100px',\n          color: 'white',\n          fontFamily: \"'Amaranth', sans-serif\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Buy Characters\"));\n    }\n  }]);\n\n  return Auction;\n}(Component);\n\nexport default Auction;","map":{"version":3,"sources":["/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/MarketPlace/src/components/Auction.js"],"names":["React","Component","web3","abi","address","Button","Auction","props","state","loading","characters","handleChange","bind","createCharacters","event","setState","charName","target","value","CharacterContract","eth","Contract","from","userAccount","methods","createCharacter","send","then","result","ForSaleContract","self","auctions","call","characterIdArray","console","log","i","viewCharacterDataStepOne","viewCharacterDataStepTwo","resultTwo","prevState","tokenId","name","weapon","armor","image","ratCount","skeletonCount","totalKills","totalDmg","totalRevives","marginLeft","paddingLeft","color","fontFamily"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\nimport './Auction.css'\nimport web3 from '../utilities/web3Provider.js'\nimport {abi,address} from '../contracts/avatarBazaarAbi.js'\nimport {Button} from 'react-bootstrap'\n\nclass Auction extends Component{\n    constructor(props) {\n      super(props)\n\n      this.state = {\n          loading: false,\n          characters: [\n          ]\n      }\n      this.handleChange = this.handleChange.bind(this)\n      this.createCharacters = this.createCharacters.bind(this)\n    }\n  \n    handleChange(event) {\n        this.setState({charName: event.target.value});\n      }\n\n    createCharacters(){\n      var CharacterContract = new web3.eth.Contract(abi,\n          address, {from: this.props.userAccount});\n      CharacterContract.methods.createCharacter(this.state.charName).send(`{from:this.state.userAccount}`).then(function(result){\n         })\n      }\n\n    componentDidMount() {\n      var ForSaleContract = new web3.eth.Contract(abi,\n        address, {from: this.props.userAccount});\n        var self = this;\n        ForSaleContract.methods.auctions(0).call()\n        .then(function(result){\n            var characterIdArray = result;\n            console.log('charactArray')\n            console.log(characterIdArray)\n            var i = 0;\n            \n                ForSaleContract.methods.viewCharacterDataStepOne(characterIdArray[i]).call()\n                .then(function(result){\n                    ForSaleContract.methods.viewCharacterDataStepTwo(characterIdArray[i]).call()\n                        .then(function(resultTwo){\n                            self.setState(prevState => ({\n                                characters: [\n                                    ...prevState.characters, {\n                                        tokenId: characterIdArray[i],\n                                        name:result[0],\n                                        weapon: result[1],\n                                        armor:result[2],\n                                        image: result[3],\n                                        ratCount: resultTwo[0],\n                                        skeletonCount: resultTwo[1],\n                                        totalKills: resultTwo[2],\n                                        totalDmg: resultTwo[3],\n                                        totalRevives: resultTwo[4]\n                                    }\n                                ]\n                            }));\n                            return resultTwo;\n                        })\n                });\n            \n        return result;\n        });\n    }\n    render(){\n        return (\n            <div style={{marginLeft:'100px'}}>\n            <h1 style={{paddingLeft: '100px',color:'white',fontFamily: \"'Amaranth', sans-serif\"}}>Create Character</h1>\n\n            <input type=\"text\" value={this.state.charName} onChange={this.handleChange}></input>\n            <Button id=\"createCharacter\" bsStyle=\"primary\" onClick={this.createCharacters}>Create Character</Button>\n           \n            <h1 style={{paddingLeft: '100px',color:'white',fontFamily: \"'Amaranth', sans-serif\"}}>Buy Characters</h1>\n\n            </div>\n        )\n    }\n}\n\nexport default Auction"]},"metadata":{},"sourceType":"module"}