{"ast":null,"code":"import _toConsumableArray from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/src/components/Profile.js\";\nimport { Grid, Row, Col, Thumbnail, Button } from 'react-bootstrap';\nimport React, { Component } from 'react';\nimport CharacterStill from '../img/character_still.png';\nimport CharacterStillForSale from '../img/character_still_lg_for_sale.png';\nimport Loading from './Loading';\nimport web3 from '../utilities/web3Provider.js';\nimport { abi, address } from '../contracts/avatarBazaarAbi.js';\nimport './Profile.css';\n\nvar Profile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Profile, _Component);\n\n  function Profile(props) {\n    var _this;\n\n    _classCallCheck(this, Profile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Profile).call(this, props));\n\n    _this.renderRows = function () {\n      if (_this.state.loading) {\n        return React.createElement(Loading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      }\n\n      var rows = _this.state.characters.map(function (character, index) {\n        var name = character.name,\n            weapon = character.weapon,\n            armor = character.armor,\n            ratCount = character.ratCount,\n            skeletonCount = character.skeletonCount,\n            totalKills = character.totalKills,\n            totalDmg = character.totalDmg,\n            totalRevives = character.totalRevives,\n            forSale = character.forSale;\n        var characterStill = forSale ? CharacterStillForSale : CharacterStill;\n        return React.createElement(Col, {\n          key: index,\n          xs: 6,\n          md: 4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        }, React.createElement(Thumbnail, {\n          src: characterStill,\n          className: \"character-card\",\n          alt: \"242x200\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, name), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Weapon: \", weapon), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"Armor: \", armor), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"Rat Count: \", ratCount), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, \"Skeleton Count: \", skeletonCount), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85\n          },\n          __self: this\n        }, \"Total Kills: \", totalKills), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \"Total Damage: \", totalDmg), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87\n          },\n          __self: this\n        }, \"Total Revives: \", totalRevives), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        }, React.createElement(Button, {\n          bsStyle: \"primary\",\n          disabled: forSale,\n          onClick: function onClick(index) {\n            return _this.playAs(index);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"Play as \", name), \"\\xA0\", React.createElement(Button, {\n          bsStyle: \"default\",\n          disabled: forSale,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91\n          },\n          __self: this\n        }, \"Sell \", name))));\n      });\n\n      return rows;\n    };\n\n    _this.state = {\n      loading: false,\n      showGame: false,\n      characters: []\n    };\n    return _this;\n  }\n\n  _createClass(Profile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var CharacterContract = new web3.eth.Contract(abi, address, {\n        from: this.props.userAccount\n      });\n      var self = this;\n      CharacterContract.methods.getCharactersPerUser().call().then(function (result) {\n        //the result holds your Token Balance that you can assign to a var\n        console.log(result);\n        var characterIdArray = result;\n        var i; //Loop Through each Id that is owned\n\n        for (i in characterIdArray) {\n          console.log(i); //Call Id Details [i] is TicketId\n\n          CharacterContract.methods.viewCharacterDataStepOne(characterIdArray[i]).call().then(function (result) {\n            console.log(result);\n            CharacterContract.methods.viewCharacterDataStepTwo(characterIdArray[i]).call().then(function (resultTwo) {\n              console.log(resultTwo); //the result holds your Token Balance that you can assign to a var\n\n              self.setState(function (prevState) {\n                return {\n                  characters: _toConsumableArray(prevState.characters).concat([{\n                    name: result[0],\n                    weapon: result[1],\n                    armor: result[2],\n                    image: result[3],\n                    ratCount: resultTwo[0],\n                    skeletonCount: resultTwo[1],\n                    totalKills: resultTwo[2],\n                    totalDmg: resultTwo[3],\n                    totalRevives: resultTwo[4]\n                  }])\n                };\n              });\n              return result;\n            });\n          });\n        }\n\n        return result;\n      });\n    }\n  }, {\n    key: \"playAs\",\n    value: function playAs(tokenId) {\n      this.setState({\n        showGame: true,\n        tokenId: tokenId\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.state.showGame) {\n        return React.createElement(Grid, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102\n          },\n          __self: this\n        }, React.createElement(Row, {\n          className: \"show-grid\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        }, this.renderRows()));\n      } else {\n        console.log(localStorage.data);\n        return React.createElement(\"iframe\", {\n          width: '100%',\n          height: '400px',\n          title: 'BrowswerQuest',\n          src: \"http://54.187.164.49:8080/index.html?tokenId=\".concat(this.state.tokenId),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Profile;\n}(Component);\n\nexport default Profile;","map":{"version":3,"sources":["/Users/colbygilbert95/Documents/tapTapAdventure/AvatarBazaar/src/components/Profile.js"],"names":["Grid","Row","Col","Thumbnail","Button","React","Component","CharacterStill","CharacterStillForSale","Loading","web3","abi","address","Profile","props","renderRows","state","loading","rows","characters","map","character","index","name","weapon","armor","ratCount","skeletonCount","totalKills","totalDmg","totalRevives","forSale","characterStill","playAs","showGame","CharacterContract","eth","Contract","from","userAccount","self","methods","getCharactersPerUser","call","then","result","console","log","characterIdArray","i","viewCharacterDataStepOne","viewCharacterDataStepTwo","resultTwo","setState","prevState","image","tokenId","localStorage","data"],"mappings":"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","sourcesContent":["import {Grid,Row,Col,Thumbnail,Button} from 'react-bootstrap'\nimport React, {Component} from 'react'\nimport CharacterStill from '../img/character_still.png'\nimport CharacterStillForSale from '../img/character_still_lg_for_sale.png'\nimport Loading from './Loading'\nimport web3 from '../utilities/web3Provider.js'\nimport {abi,address} from '../contracts/avatarBazaarAbi.js'\nimport './Profile.css'\n\nclass Profile extends Component{\n    constructor(props) {\n      super(props)\n\n      this.state = {\n          loading: false,\n          showGame: false,\n          characters: [\n          ]\n      }\n    }\n\n    componentDidMount(){\n        var CharacterContract = new web3.eth.Contract(abi,\n            address, {from: this.props.userAccount});\n            var self = this;\n            CharacterContract.methods.getCharactersPerUser().call()\n            .then(function(result){\n            //the result holds your Token Balance that you can assign to a var\n            console.log(result)\n            var characterIdArray = result;\n            var i;\n             //Loop Through each Id that is owned\n             for(i in characterIdArray){\n               console.log(i);\n               //Call Id Details [i] is TicketId\n               CharacterContract.methods.viewCharacterDataStepOne(characterIdArray[i]).call()\n               .then(function(result){\n                 console.log(result);\n\n                 CharacterContract.methods.viewCharacterDataStepTwo(characterIdArray[i]).call().then(function(resultTwo){\n                   console.log(resultTwo);\n\n                   //the result holds your Token Balance that you can assign to a var\n                   self.setState(prevState => ({\n                     characters: [\n                       ...prevState.characters, {\n                         name:result[0],\n                         weapon: result[1],\n                         armor:result[2],\n                         image: result[3],\n                         ratCount: resultTwo[0],\n                         skeletonCount: resultTwo[1],\n                         totalKills: resultTwo[2],\n                         totalDmg: resultTwo[3],\n                         totalRevives: resultTwo[4]\n                       }\n                     ]\n                   }));\n                   return result;\n                 })\n               });\n\n             }\n            return result;\n            });\n    }\n    playAs(tokenId){\n        this.setState({showGame: true,tokenId:tokenId})\n    }\n    renderRows = () => {\n      if (this.state.loading) {\n        return <Loading />\n      }\n      var rows = this.state.characters.map((character, index) => {\n        const { name,weapon,armor,ratCount,skeletonCount,totalKills,totalDmg,totalRevives,forSale} = character;\n        var characterStill = forSale ? CharacterStillForSale : CharacterStill\n        return (\n            <Col key={index} xs={6} md={4}>\n                <Thumbnail src={characterStill} className=\"character-card\" alt=\"242x200\">\n                    <h3>{name}</h3>\n                    <p>Weapon: {weapon}</p>\n                    <p>Armor: {armor}</p>\n                    <p>Rat Count: {ratCount}</p>\n                    <p>Skeleton Count: {skeletonCount}</p>\n                    <p>Total Kills: {totalKills}</p>\n                    <p>Total Damage: {totalDmg}</p>\n                    <p>Total Revives: {totalRevives}</p>\n                    <p>\n                    <Button bsStyle=\"primary\" disabled={forSale} onClick={(index) => this.playAs(index)}>Play as {name}</Button>\n                    &nbsp;\n                    <Button bsStyle=\"default\" disabled={forSale}>Sell {name}</Button>\n                    </p>\n                </Thumbnail>\n            </Col>\n        );\n      });\n      return rows;\n    };\n    render(){\n        if (!this.state.showGame){\n            return(\n                <Grid>\n                    <Row className=\"show-grid\">\n                        {this.renderRows()}\n                    </Row>\n                </Grid>            \n            )\n        } else {\n            console.log(localStorage.data)\n            return <iframe width={'100%'} height={'400px'} title={'BrowswerQuest'} src={`http://54.187.164.49:8080/index.html?tokenId=${this.state.tokenId}`}></iframe>\n        }\n    }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}